
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>سفارش آنلاین کترینگ برکت</title>
  <style>
    body { font-family: Tahoma; direction: rtl; background:#f5f5f5; }
    .box { max-width: 400px; margin: auto; background:#fff; padding:15px; border-radius:10px; margin-top:30px; }
    input, select, button { width:100%; margin:8px 0; padding:8px; }
    button { background:#2e7d32; color:#fff; border:none; border-radius:5px; }
  </style>
</head>
<body>

<div class="box">
  <h3>سفارش آنلاین کترینگ برکت</h3>

  <input type="text" id="name" placeholder="نام و نام خانوادگی" required>
  <input type="tel" id="phone" placeholder="شماره تماس ثابت" value="05137258844" readonly>

  <select id="food">
    <option>چلوکباب</option>
    <option>زرشک پلو با مرغ</option>
    <option>قیمه</option>
  </select>

  <input type="number" id="quantity" placeholder="تعداد پرس" min="1" value="1">

  <button onclick="sendOrder()">ثبت سفارش</button>
</div>

<script>
async function sendOrder() {
  const name = document.getElementById('name').value;
  const phone = document.getElementById('phone').value;
  const food = document.getElementById('food').value;
  const quantity = document.getElementById('quantity').value;

  if (!name) {
    alert('لطفاً نام خود را وارد کنید');
    return;
  }

  try {
    const response = await fetch(
      'https://eitaa-order.yassaheb.workers.dev',
      {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          name,
          phone,
          food,
          quantity
        })
      }
    );

    const result = await response.json();

    if (result.status === 'success') {
      alert('سفارش با موفقیت ارسال شد ✅');
      document.getElementById('name').value = '';
      document.getElementById('quantity').value = '1';
    } else {
      alert('خطا در ارسال سفارش ❌');
    }
  } catch (err) {
    alert('خطا در ارتباط با سرور ❌');
    console.error(err);
  }
}
</script>
</body>
</html>
